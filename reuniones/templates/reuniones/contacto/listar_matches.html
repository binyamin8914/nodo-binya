{% extends "admin.html" %}

{% block title %}Mis Matches{% endblock %}

{% block content %}
<div class="panel" style="
    background-color: white;
    border-radius: 16px;
    padding: 45px 50px;
    width: 100%;
    max-width: 400px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    text-align: center;
    margin: auto;
">
    <div class="nav-links" style="margin-bottom: 20px; text-align: left;">
        <a href="{% url 'reuniones:home' %}" style="color:#4361ee;font-weight:600;">Volver</a>
    </div>

    <h2 style="font-size: 1.8rem; font-weight: 800; margin-bottom: 10px; color: #1e293b;">
        Mis Matches
    </h2>

    {% if messages %}
        {% for m in messages %}
            <p style="background-color:#e6f3ff;padding:10px;border-radius:8px;color:#1e293b;">{{ m }}</p>
        {% endfor %}
    {% endif %}

    {% if matches %}
        {% for match in matches %}
            <div class="match-item" style="text-align: left; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #ddd;">
                <h3 style="margin: 0 0 5px 0; color: #1e293b;">{{ match.desafio.nombreDesafio }}</h3>
                <p style="margin: 3px 0;"><strong>Iniciativa:</strong> {{ match.iniciativa }}</p>
                <p style="margin: 3px 0;"><strong>Ejecutivo:</strong> {{ match.ejecutivo.get_full_name|default:match.ejecutivo.email }}</p>
                <a class="menu-btn" style="display:inline-block;width:100%;padding:15px;margin-bottom:0;font-size:1rem;font-weight:600;background-color:#f1f5f9;border:none;border-radius:10px;text-decoration:none;color:#1e293b;transition:background 0.3s ease;text-align:center;" href="{% url 'reuniones:solicitar_reunion' match_id=match.id %}">Solicitar Reuni√≥n</a>
            </div>
        {% endfor %}
    {% else %}
        <p style="color:#64748b;">No hay matches disponibles.</p>
    {% endif %}
</div>
{% endblock %}
